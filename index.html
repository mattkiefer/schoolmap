<!DOCTYPE html>
<meta charset="utf-8">
<style></style>
<body>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="https://d3js.org/topojson.v1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>


var width = 960
    height = 1160

var infobox = d3.select("body").append("p").attr("id","infobox")

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)

var projection = d3.geo.mercator()
    .center([-87.7, 41.9 ])
    .scale([width * 80])

var path = d3.geo.path().projection(projection)

// stuff like map color schemes for each dataset
var data_configs = {
                    'default': {
                                'property_name' : null,
                                'scale_range'   : null,
                               },

                    'race'   : {
                                'property_name' : null,
                                'scale_range'   : null,
                               },

                    'hs'     : {
                                'property_name' : null,
                                'scale_range'   : null,
                               }
}





//var ca_data = d3.json("viz_data/data.geojson", function(json) { return json.features })

var map = d3.json("viz_data/data.geojson", function(json) {
    var comm_areas = json.features
    
    
    var color = d3.scale.quantize()
                .range(["rgb(237,248,233)", "rgb(186,228,179)",
                 "rgb(116,196,118)", "rgb(49,163,84)","rgb(0,109,44)"]);

    
    var dom = color.domain([
              d3.min(comm_areas, function(d) { return d.properties.hs_diploma_or_less; }),
              d3.max(comm_areas, function(d) { return d.properties.hs_diploma_or_less; })
    ]);


    var bar = svg.selectAll(".cas").attr("fill", function(d) { return color(d.properties.hs_diploma_or_less) } )

    var clicky = d3.select("body").append("div").attr("id","clicker").html("clicky click").on("click", function(d) {
    svg.selectAll(".cas").attr("fill", function(d) { return color(d.properties.hs_diploma_or_less) } );
    console.log(foo)
    })

    var foo = svg.selectAll("path")
    .data(comm_areas)
    .enter()
    .append("path")
    .attr("d",path)
    .attr("class","cas")
    .attr("fill","#CCCCCC")

    return foo;


})


var colors = {
              1: ['rgb(237,248,251)','rgb(179,205,227)','rgb(140,150,198)','rgb(136,86,167)','rgb(129,15,124)'],
              2: ["rgb(237,248,233)", "rgb(186,228,179)", "rgb(116,196,118)", "rgb(49,163,84)","rgb(0,109,44)"]
             }



var colorize = function(color_no) {
    d3.select("svg").data(comm_areas).update().append("path").attr("d","path").attr("fill",'#FF0000')
}

var fill = svg.selectAll("path")




/*
color.domain([
              d3.min(comm_areas, function(d) { return d.properties.hs_diploma_or_less; }),
              d3.max(comm_areas, function(d) { return d.properties.hs_diploma_or_less; })
]);

svg.selectAll("path")
    .data(comm_areas)
    .enter()
    .append("path")
    .attr("d",path)
    .attr("fill",function(d) {
        return color(d.properties.hs_diploma_or_less)
        }
    )
    .on("click", function(d) {
        d3.select("p#infobox").html(function() {
            return d.properties.community + "<br />" + d.properties.hs_diploma_or_less
        }
        ) 
    })
})
;
*/


var recolor = function(scheme) {
    new_color = colors[scheme]
}

</script>

